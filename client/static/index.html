<!DOCTYPE html>
<html lang="en" ng-app = 'myApp'>
<head>
	<meta charset="UTF-8">
	<title>angular project5</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
	<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
	<style>

	body{
		margin: 10px;
	}
	input{
		margin-bottom: 5px;
		margin-top: 5px;
	}
	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js"/></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular-route.min.js"></script>
	<script>
		var myApp = angular.module('myApp',['ngRoute']);

		myApp.config(function($routeProvider){
			$routeProvider
			.when('/',{
				templateUrl : './partials/customizeUsers.html'
			})
			.when('/users',{
				templateUrl : './partials/userList.html'
			})
			.otherwise({
				redirectTo: '/'
			});
		});



		myApp.factory('userFactory',function(){
			var users = [
							{first_name:'Xinyang',last_name:'Zhang',fav_lang:'javascript'},
							{first_name:'Lionel',last_name:'Messi',fav_lang:'c++'},
							{first_name:'Garith',last_name:'Bale',fav_lang:'python'},
							];
			var factory = {};
			factory.getusers = function(callback){
				callback(users);
			}
			factory.adduser = function(newUser){
				users.push(newUser);
			}
			factory.removeuser = function(user){
				users.splice(users.indexOf(user),1);
			}
			return factory;
		})

		myApp.controller('usersController',function($scope,userFactory){
			$scope.users = [];
			userFactory.getusers(function(data){
				$scope.users = data;
			})

		});

		myApp.controller('customizeUsersController',function($scope,userFactory){
			$scope.users = [];
			userFactory.getusers(function(data){
				$scope.users = data;
			})

			$scope.adduser = function(){
				userFactory.adduser($scope.newuser);
				$scope.newuser = {};
			}
			$scope.removeuser = function(user){
				userFactory.removeuser(user);

			}

		});

	</script>
</head>
<body>
	<div>
		<a href="#/">Customize Users</a>  |  <a href="#/users">User List</a>
		<div ng-view = ''></div>
	</div>

</body>
</html>